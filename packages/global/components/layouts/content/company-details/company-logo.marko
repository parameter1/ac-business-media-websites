import { get, getAsObject } from "@parameter1/base-cms-object-path";
import { buildImgixUrl } from "@parameter1/base-cms-image";

$ const { content } = input;
$ const image = getAsObject(content, "primaryImage");
$ const blockName = "company-logo";

$ const hasImage = Boolean(image.src);

<if(hasImage)>
  $ const src = buildImgixUrl(image.src, { w: 120, h: 80, fit: 'fill', fillColor: 'fff', bg: 'fff', pad: 5 });
  $ const srcset = [`${buildImgixUrl(src, { dpr: 2 })} 2x`];
  <marko-web-img
    src=src
    srcset=srcset
    alt=image.alt
    class=`${blockName}__image`
    lazyload=true
    attrs={ height: 80, width: 120 }
  />
</if>
